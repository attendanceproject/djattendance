{% load staticfiles %}
{% load bootstrap3 %}

{% block badges_content %}

<BR>&nbsp;<BR>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <title>Printing All Badges 8 per Page</title>
    <style type="text/css">
      @page {
        size: {{ pagesize }};
        margin: 1cm;
        @frame footer {
          -pdf-frame-content: footerContent;
          bottom: 0cm;
          margin-left: 9cm;
          margin-right: 9cm;
          height: 1cm;
        }
      }

      .secondfreshcolumn {
      width: 330px;
      height: 190px;
      border: transparent 1px;
      }

      .badgeborder {
      width: 330px;
      height: 190px;
      border-bottom: solid 1px;
      }

      .badge {
        width: 330px;
        height: 190px;
        border: transparent 1px;
        position: absolute;
        float: left;
        left: 426px;
        margin-top: -190px;
      }

      .secondfreshcolumnborder {
        width: 330px;
        height: 190px;
        border: transparent 1px;
        border-bottom: solid 1px;
        position: absolute;
        float: left;
        left: 426px;
      }

      .badge:nth-last-child(2), .secondfreshcolumn:nth-last-child(2), .badge:last-child,  .secondfreshcolumn:last-child{
        border-bottom: solid 1px;
      }

      .banner {
        position: relative;
        width: 330px;
        height: 46px;
        text-align: center;
        background: #181CCE;
        color: white;
        font-size: 16pt;
        font-family: Times;
        line-height: 1.2;
      }

      .bannerstaff {
        position: relative;
        width: 330px;
        height: 46px;
        text-align: center;
        background: #1b761b;
        color: white;
        font-size: 16pt;
        font-family: Times;
        line-height: 1.2;
      }

      .body {
        position: relative;
        width: 330px;
        height: 141px;
        background-image: url('/media/badges/GorgeousLogoLatest.jpg');
        background-repeat: no-repeat;
        background-position: center;
      }

      .name {
        position: relative;
        float: left;
        left: 17px;
        top: 54px;
        width: 210px;
        word-wrap: break-word;
        line-height: 2em;
        font-size: 12pt;
        font-family: Arial;
      }

      .name-text {
        line-height: 0.1em;
      }

      .locality-text{
        line-height: 1.4em;
      }

      .badge-pic {
        position: relative;
        float: right;
        height: 94px;
        top: 16px;
        right: 7.59px;
      }

      @media all {
        .page-break { display: none; }
      }

      @media print {
        .page-break { display: block; page-break-before: always; }
      }

    </style>

    <link rel="stylesheet" type="text/css" href="/badges/print/badgeSettings.css">
  </head>
  <body>
    <div class="page">
    {% for badge in object_list %}
      {% if forloop.counter0|divisibleby:8 and forloop.counter0 >= 8 %}
        </div> <!-- end of page -->
        <div class="page-break"></div>
        <div class="page">
      {% endif %}

      {% if badge.type == "X" %}
      <div class="{% if forloop.counter0|divisibleby:2 %}secondfreshcolumn{% else %}badge{% endif %}">
        <div class="banner">
          Living Stream Ministry <br/>
          <small>FTTA - Extension in Boston </small>
        </div>
        <div class="body">
          <div class="name">
            <b class="name-text">{{badge.firstname}} {{badge.lastname}}</b> <br>
            {{badge.locality}}
          </div>
          <img class="badge-pic" src="/media/{{badge.original}}">
        </div>
      </div>
      {% elif badge.type == "T" %}
      <div class="{% if forloop.counter0|divisibleby:2 %}secondfreshcolumn{% else %}badge{% endif %}">
        <div class="banner">
          Living Stream Ministry <br/>
          <small>Full-Time Training in Anaheim </small>
        </div>
        <div class="body">
          <div class="name">
            <b class="name-text">{{badge.firstname}} {{badge.lastname}}</b> <br>
            <div class="{% if badge.firstname|length >= 11 or badge.lastname|length >= 11 %}locality-text{% endif %}">{{badge.locality}}</div>
          </div>
          <img class="badge-pic" src="/media/{{badge.original}}">
        </div>
      </div>
      {% elif badge.type == "S" %}
      <div class="{% if forloop.counter0|divisibleby:2 %}secondfreshcolumn{% else %}badge{% endif %}">
        <div class="bannerstaff">
          Living Stream Ministry <br/>
          <small>Full-Time Training in Anaheim Staff</small>
        </div>
        <div class="body">
          <div class="name">
            <b class="name-text">{{badge.firstname}} {{badge.lastname}}</b> <br>
            {{badge.locality}}
          </div>
          <img class="badge-pic" src="/media/{{badge.original}}">
        </div>
      </div>
      {% elif badge.type == "XS" %}
      <div class="{% if forloop.counter0|divisibleby:2 %}secondfreshcolumn{% else %}badge{% endif %}">
        <div class="bannerstaff">
          Living Stream Ministry <br/>
          <small>FTTA - Extension in Boston Staff</small>
        </div>
        <div class="body">
          <div class="name">
            <b class="name-text">{{badge.firstname}} {{badge.lastname}}</b> <br>
            {% if badge.locality %}
              {{badge.locality}}
            {% endif %}
          </div>
          <img class="badge-pic" src="/media/{{badge.original}}">
        </div>
      </div>
      {% endif %}
    {% endfor %}
    </div> <!-- end of page -->
  </body>
</html>
{% endblock %}
