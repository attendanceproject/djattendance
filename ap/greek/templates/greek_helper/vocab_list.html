{% extends "base.html" %}
{% load staticfiles %}
{% load bootstrap3 %}
{% load common_tags %}
{% block title %}Greek{% endblock %}

{% block scripts %}
<script type="text/javascript">

  var chapter;

  $(document).ready(function () {

    // Changing the chapter reloads the page to load the vocab list in that chapter
    function changeChapter() {
      var chap = document.getElementById("chapter_select").value;
      // var urlString = "/greek/?chap=" + chap;

      // $.ajax({
      //   type: "POST",
      //   url: urlString,
      //   dataType: "json",
      //   data: {
      //       "chapter": chap,
      //   },
      //   success: function (data) {
      //     var obj = JSON.parse(data);
      //     chapter = obj.chapter;
      //   }
      // });
      console.log("chapter changed to", chap);
    }

    $("#chapter_select").on('change', changeChapter);

  });
</script>
{% endblock %}

{% block content %}
<div class="container">
  <h1> Greek Vocab Helper</h1>

  <form class="row">
    <div class="col-sm-2">
      Sort by chapter:
    </div>
    <div class="col-sm-1">
      <!-- Pick a chapter -->
      <select id="chapter_select" class="form-control" name="chapter" size="0">
        {% for i in chapters %}
        <option value="{{i}}">{{i}}</option>
        {% endfor %}
      </select>
    </div>
  </form>

  <br />

  <table class="table flashcard">
    <tr>
      <th>Greek</th>
      <th>English</th>
      <th>Chapter</th>
      <th>Parsing</th>
    </tr>
    {% for g in greekVocab %}
    <tr>
      <td> {{g.greek}} </td>
      <td> {{g.english}} </td>
      <td> {{g.chapter}} </td>
      <td> {{g.parsing}} </td>
    </tr>
    {% endfor %}
  </table>
</div>
{% endblock %}