<style>
  table {
    table-layout: fixed;
  }
  th {
    vertical-align: middle; 
    width: 150px
  }
  th.wide-column {
    width: 250px
  }
</style>
{% load common_tags %}
  {% if classnotes|length <= 0 %}
    <div class="well">
    Congratulations, you have no class notes assigned currently!
    </div>
  {% endif %}
  {% if classnotes_unsubmitted or classnotes_pending or classnotes_approved%}
          <h2 class="panel-title">
            Class notes left: <b>{{ classnotes_unsubmitted|length }}</b>. Pending Class Notes: <b>{{ classnotes_pending|length }}</b>.
          </h2>
          <div class="table-responsive">
          <table class="table table-bordered">
            <thead>
                <tr>
                  <th>Class</th>
                  <th>Date Missed</th>
                  <th>Date Due</th>
                  <th>Status</th>
                  <th>Action</th>
                  <th class="wide-column">Excerpt from Notes</th>
                </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  {{classnote.event.name}}
                </td>
                <td>
                  {{classnote.date}}
                </td>
                <td>
                    {{classnote.date_due | date:"m/d/y"}}
                </td>
                <td>
                  {% if classnote.date_submitted %}
                    <span class="badge alert-info">{{classnote.date_submitted}}</span>
                  {% endif %}
                  {% if classnote.approved %}
                    Approved
                    <svg height="20px" width="20px"  style="padding-top: 5px;">
                      <circle cx="10" cy="10" r="5" fill="#A6C5D1"/>
                    </svg>
                  {% elif classnote.pending %}
                    Pending
                    <svg height="20px" width="20px"  style="padding-top: 5px;">
                      <circle cx="10" cy="10" r="5" fill="none" stroke="#A6C5D1" stroke-width="1"/>
                    </svg>
                  {% elif classnote.unsubmitted %}
                    Unsubmitted
                    <svg height="20px" width="20px"  style="padding-top: 5px;">
                      <circle cx="10" cy="10" r="5" fill="#E85328"/>
                    </svg>
                  {% endif %}
                  {% if classnote.fellowship %}
                    Marked for fellowship
                    <svg height="20px" width="20px"  style="padding-top: 5px;">
                      <circle cx="10" cy="10" r="5" fill="#F69D74"/>
                    </svg>
                  {% endif %}

                </td>
                <td>
                  {% if classnote.approved == False %}
                  <form action="{% url 'classnotes:classnotes_detail' classnote.pk %}" method="get">
                  {% csrf_token %}
                  <button type="submit" class="btn-ta btn-edit"></button>
                  </form>
                  {% endif %}
                </td>
                <td style="max-width: 500px;">
                  <p>{{classnote.content|truncatechars:300 }}</p>
                </td>
              </tr>
            </tbody>
          </table>
      <!--bootstrap table
          {% for classnote in classnotes_unsubmitted %} 
          <a href="{% url 'classnotes:classnotes_detail' classnote.pk %}" class="">
            <div class="row">
              <div class="col-md-1">
                <h3 class="no-top-margin">{{classnote.event.name}}</h3>
              </div>
              <div class="col-md-1">
                <h3 class="no-top-margin">{{classnote.date}}</h3>
              </div>  
              <div class="col-md-1">
                {% if classnote.date_submitted %}
                  <span class="badge alert-info">{{classnote.date_submitted}}</span>
                {% endif %}
                {% if classnote.approved %}
                  <span class="badge alert-success">approved</span>
                {% elif classnote.pending %}
                  <span class="badge alert-warning">pending</span>
                {% else %}
                  <span class="badge alert-danger">not approved</span>
                {% endif %}
                {% if classnote.fellowship %}
                <span class="badge alert-warning">marked for fellowship</span>
                {% endif %}
              </div>
              <div class="col-md-1">
                {% if classnote.approved == False %}
                <form action="{% url 'classnotes:classnotes_detail' classnote.pk %}" method="get">
                {% csrf_token %}
                <button type="submit" class="btn btn-success btn-xs">Turn In</button>
                </form>
                {% endif %}
              </div>
            </div>
            <div class="row">
              <p>{{classnote.content|truncatechars:300 }}</p>
            </div>
          </a>
          {% endfor %} 
        </div>
      </div>
    </div>
  {% endif %}

  {% if classnotes_pending %}
    <div class="panel-group" id="accordion">
      <div class="panel panel-info">
        <div class="panel-heading">
          <h2 class="panel-title">
            Pending Class Notes: <b>{{ classnotes_pending|length }}</b>.
          </h2>
          <span class="pull-right clickable"><i class="glyphicon glyphicon-chevron-up"></i></span>
        </div>
        <div class="panel-body">
          <ul class="list-group">
          {% for classnotes in classnotes_pending %}
            <a href="{% url 'classnotes:classnotes_detail' classnotes.pk %}" class="list-group-item col-md-6">
            <div class="spacer5"></div>
            <h3 class="no-top-margin">{{classnotes.event.name}} &mdash; {{classnotes.date}}</h3>
            <p>{{classnotes.content|truncatechars:300 }}</p>
            <div>
            <span class="badge alert-info">{{classnotes.date_submitted}}</span>
            <span class="badge alert-warning">pending</span>
            </div>
          </a>
            {% endfor %}
          </ul>
        </div>
      </div>
    </div>
  {% endif %}

  {% if classnotes_approved %}
    <div class="panel-group" id="accordion">
      <div class="panel panel-success">
        <div class="panel-heading">
          <h2 class="panel-title">
            Approved Class Notes: <b>{{ classnotes_approved|length }}</b>.
          </h2>
          <span class="pull-right clickable"><i class="glyphicon glyphicon-chevron-up"></i></span>
        </div>
      <div class="panel-body">
          <ul class="list-group">
          {% for classnotes in classnotes_approved %}
            <a href="{% url 'classnotes:classnotes_detail' classnotes.pk %}" class="list-group-item col-md-6">
            <div class="spacer5"></div>
            <h3 class="no-top-margin">{{classnotes.event.name}} &mdash; {{classnotes.date}}</h3>
            <p>{{classnotes.content|truncatechars:300 }}</p>
            <div>
            <span class="badge alert-info">{{classnotes.date_submitted}}</span>
            <span class="badge alert-success">approved</span>
          </div>
            </a>
            {% empty %}
            <div class="alert alert-warning"><i>You have not completed any Class notes.</i></div>
            {% endfor %}
          </ul>
        </div>--> 
      </div>
    </div>
  {% endif %}
